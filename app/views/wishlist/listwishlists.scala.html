@(wishlists:Seq[Wishlist],searchForm:Form[(Option[String])],createWishlistForm:Form[(String,Option[String])])(implicit flash:Flash, currentRecipient: Option[Recipient])

@import helper._

@nautical("search") {
	<li>search</li>
}{
	
	<div id="list-wishlists-page">

		<h4>@wishlists.size wishlists found:</h4>

		<div class="well" id="wishlist-list">

			<table class="table table-striped table-hover">
				<thead>
					<tr>
						<th>Title</th>
						<th>Recipient</th>
					</tr>
				</thead>
				<tbody>
				@for(wishlist <- wishlists){
					<tr>
						<td>
							<a href="@routes.WishController.showWishlist(wishlist.recipient.username,wishlist.wishlistId.get)">@wishlist.title</a>
						</td>
						<td>
                            <a href="@routes.RecipientController.showProfile(wishlist.recipient.username)">@wishlist.recipient.username</a>
						</td>
					</tr>
				}
				</tbody>
			</table>
		</div>



		<div class="well" id="search-box">	
			@form(action = routes.WishController.search(), 'class -> "form-search", 'method -> "get"){
				<input type="text" class="input-xlarge  search-query" placeholder="Partial title of wishlist or recipient" name="term" value="@searchForm("term").value"/>
				<button type="submit" class="btn btn-primary input-small">search</button> 
			}
		</div>


		@if(currentRecipient.isDefined){

			<div class="well" >

				@form(action = routes.WishController.create(currentRecipient.get.username), 'class -> "form-horizontal"){
					<input type="text" class="input-xlarge" placeholder="Title of new wishlist" name="title" value="@createWishlistForm("title").value"/>
					<button type="submit" class="btn btn-info input-small">create</button> 	
				}

			</div>

		}
	
	</div>

}